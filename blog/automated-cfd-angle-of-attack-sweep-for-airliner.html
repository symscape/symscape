
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from www.symscape.com/blog/automated-cfd-angle-of-attack-sweep-for-airliner by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Aug 2024 15:17:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Automated CFD Angle of Attack Sweep for an Airliner | Symscape</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../files/logos/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../files/css/css_a8a589a7baa071201a9648b06a782871.css" />
<link type="text/css" rel="stylesheet" media="print" href="../files/css/css_c728179816712ba7ae086da46d76f784.css" />
<!--[if IE]>
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/cti_flex/css/ie.css?x" />
<![endif]-->
<!--[if lte IE 6]>
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/cti_flex/css/ie6.css?x" />
<![endif]-->
  <script type="text/javascript" src="../files/js/js_b3126871db8a9e9462462578379e6fd8.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/" });
//--><!]]>
</script>
  <style type="text/css">
body {font-family: Arial, Helvetica, "Bitstream Vera Sans", sans-serif;}
</style>  <style type="text/css">
body {background: #eeeeee none;}
#header .section, #footer { background: #A0BAE1 none; }
#site-name a:link, #site-name a:visited, #site-slogan, #footer { color: #034695; }
</style>
  <!--[if lte IE 6]>
  <script type="text/javascript" src="/sites/all/themes/cti_flex/js/suckerfish.js"></script>
  <![endif]-->
</head>

<body class="not-front not-logged-in node-type-blog page-blog-automated-cfd-angle-of-attack-sweep-for-airliner section-blog one-sidebar sidebar-second ">

  <div id="page-wrapper"><div id="page">

    <div id="header"><div class="section clearfix">

      
              <div id="logo-title">

                      <div id="logo"><a href="../index.html" title="Home" rel="home"><img src="../files/logos/logo.png" alt="Home" id="logo-image" /></a></div>
          
              <div id="title-slogan">

                                    <h1 id="site-name">
                <a href="../index.html" title="Home" rel="home">
                Symscape                </a>
              </h1>
                      
                      <div id="site-slogan">Computational Fluid Dynamics Software for All</div>
          
          </div> <!-- /#title-slogan -->
        
        </div> <!-- /#logo-title -->
      
      <div class="region region-header">
  
<div id="block-block-22" class="block block-block region-odd odd region-count-1 count-5  no-header block-1"><div class="block-inner">

  
  <div class="content">
    <a href="../get-started-with-caediume8d9.html?utm_medium=home&amp;utm_campaign=getstarted&amp;utm_source=header"><img src="../files/flair/productbanner.gif" width="408" height="112" alt="Get Started With Caedium Now" title="Get Started With Caedium Now" /></a>  </div>

  
</div></div> <!-- /block-inner, /block -->
</div> <!-- /.region -->

    </div></div> <!-- /.section, /#header -->

    <div id="main-wrapper"><div id="main" class="clearfix  with-navigation">

      <div id="content" class="column"><div class="section">

        
        
        <div class="breadcrumb"><a href="../index.html">Home</a> › <a href="../blog.html">Blogs</a> › <a href="6.html">Richard Smith&#039;s blog</a></div>                  <h1 class="title">Automated CFD Angle of Attack Sweep for an Airliner</h1>
                                
        
        <div id="content-area">
          <div id="node-1412" class="node node-type-blog clearfix">

   
  
  
  
      <div class="meta">
              <span class="submitted">
          Submitted by Richard Smith on August 27, 2013 - 12:26        </span>
      
          </div>
  
  <div class="content">
    <p>Often in a <a href="../computational-fluid-dynamics.html">Computational Fluid Dynamics (CFD)</a> study you will find yourself repeating a series of operations that are prime candidates for automation. For instance, performing an <a href="http://en.wikipedia.org/wiki/Angle_of_attack">angle of attack (alpha)</a> sweep for an airplane configuration is a great example where automation can be a significant time saver as I will demonstrate.</p>
<p><span class="inline inline-center"><img src="../files/pictures/alpha-sweep/dpw4-m0-7-alpha-6-vel.png" alt="CFD Simulation of an Airliner" width="600" height="328" /><span class="caption"><strong>CFD Simulation of an Airliner</strong></span>Alpha = 6 degrees, velocity contours and arrows</span></p>
<h3>CFD Model</h3>
<p>For this example I chose a <a href="http://commonresearchmodel.larc.nasa.gov/">wing-body-pylon-nacelle-tail geometry provided by NASA</a> for CFD validation. Unfortunately, the geometry was not a consistent solid model, but instead it was an incomplete surface model. E.g., the pylon was not attached to the nacelle or the wing. To get the model into a watertight volume representing the air around the airplane for the CFD simulation required extensive CAD cleanup operations to ensure each edge was consistently connected to only two surfaces.</p>
<p><span class="inline inline-center"><img src="../files/pictures/alpha-sweep/dpw4-original-surfaces.png" alt="" width="600" height="440" /><span class="caption"><strong>Original Airliner Geometry</strong></span></span></p>
<p>This type of geometry cleanup is often required when geometry for manufacture is repurposed after the fact for analysis. As I've covered previously it is much more efficient to configure the original geometry for <a href="design-for-simulation-then-manufacture.html">simulation and then manufacture</a>. The series of cleanup operations in this case were not candidates for automation, given that I was only considering this single model.</p>
<p><span class="inline inline-center"><img src="../files/pictures/alpha-sweep/dpw4-flow-volume.png" alt="Flow Volume Around Airliner" width="600" height="276" /><span class="caption"><strong>Flow Volume Around Airliner</strong></span></span></p>
<h3>Automation</h3>
<p>With the model complete, I tried performing a single simulation to ensure I had adequate mesh and solver parameters (e.g., relaxation factors). After minor adjustments I was satisfied that the mesh and solver parameters were good enough to proceed with the study.</p>
<p>Next I recorded a Python script as I performed the sequence of operations for a single alpha increase for the onset flow, i.e., modifying the reference velocity for the boundary conditions.</p>
<pre>
class Script:
	"""Caedium Script
	"""
	def run(self):
		selection = caedium.select.View(simulation = 'sim', view = 'view', 
		 camera = 'camera')
		selection.select(['flow-volume'])
		property = caedium.frm.Property('UDefaultValue', selection)
		property.appendParent('U').appendParent('Reference').\
		 appendParent('MaterialProperties').appendParent('PropertiesGroup').\
		 appendParent('Air').appendParent('Geometry')
		property.set([247.73, 0, 0])

		selection.select()
		property = caedium.frm.Property('theta', selection)
		property.appendParent('Constants').appendParent('Simulation')
		property.set(0)

		selection.select()
		property = caedium.frm.Property('Duration', selection)
		property.appendParent('Time').appendParent('Simulation')
		property.set(2500)
		
		selection.select()
		tool = caedium.control.Run()
		tool.addTo(selection)</pre><p>
Then I added a loop to the script to change alpha, run the simulation for a certain number of iterations, and save a copy of the simulation. Rather than start each simulation from scratch I used the previous simulation as an initial flow field for each new alpha.</p>
<pre>
class Script:
	"""Caedium Script
	"""
	def run(self):
		steps = 6
		alphaDeltaDegrees = 2
		simulationDeltaStep = 25
		speed = 247.73
		
		for i in range(0, steps + 1):
			simulationSteps = (i + 1) * simulationDeltaStep
			alphaDegrees = i * alphaDeltaDegrees
			alphaRadians = math.radians(alphaDegrees)
			Ux = speed * math.cos(alphaRadians)
			Uz = speed * math.sin(alphaRadians)
		
			selection = caedium.select.View(simulation = 'sim', view = 'view', 
			 camera = 'camera')
			selection.select(['flow-volume'])
			property = caedium.frm.Property('UDefaultValue', selection)
			property.appendParent('U').appendParent('Reference').\
			 appendParent('MaterialProperties').appendParent('PropertiesGroup').\
			 appendParent('Air').appendParent('Geometry')
			property.set([Ux, 0, Uz])

			selection.select()
			property = caedium.frm.Property('theta', selection)
			property.appendParent('Constants').appendParent('Simulation')
			property.set(alphaRadians)

			selection.select()
			property = caedium.frm.Property('Duration', selection)
			property.appendParent('Time').appendParent('Simulation')
			property.set(simulationSteps)
			
			selection.select()
			tool = caedium.control.Run()
			tool.addTo(selection)

			tool = caedium.file.CopyAs('dpw4-M0-7-Alpha-' \
			 + str(alphaDegrees) + '.sym')
			tool.do()

		tool = caedium.file.SaveAs('dpw4-M0-7-sweep-complete.sym')
		tool.do()</pre><p>
Note I parameterized the script to run from 0 to 12 degrees in 2 degree increments.</p>
<h3>Results</h3>
<p><span class="inline inline-center"><img src="../files/pictures/alpha-sweep/dpw4-m0-7-alpha-6-streamlines.png" alt="CFD Simulation of an Airliner" width="600" height="332" /><span class="caption"><strong>CFD Simulation of an Airliner</strong></span>Alpha = 6 degrees, streamlines colored by velocity magnitude</span></p>
<p>The <a href="../lift-force-and-drag-force.html">lift and drag forces</a> at each alpha condition are shown below.</p>
<p><span class="inline inline-center"><img src="../files/pictures/alpha-sweep/dpw4-lift-drag.png" alt="" width="600" height="455" /><span class="caption"><strong>Lift and Drag vs Angle of Attack (alpha)</strong></span></span></p>
<h3>Conclusion</h3>
<p>By using the Python script to automate this incidence sweep I could leave the entire sequence of simulations unattended. I also had the option to watch the simulations as they progressed and intervene (interrupt the script) at any time.</p>
<h3>Notes</h3>
<ul>
<li>Similar geometry used in this study was also the focus of the <a href="http://aaac.larc.nasa.gov/tsab/cfdlarc/aiaa-dpw/Workshop4/">4th AIAA CFD Drag Prediction Workshop</a> </li>
<li>The conditions for this study were:
<ul>
<li><a href="../mach-number.html">Mach Number</a> = 0.7 (transonic) </li>
<li><a href="../reynolds-number.html">Reynolds Number</a> = 5,000,000 </li>
<li>Alpha = 0 - 12 degrees in increments of 2 degrees </li>
</ul>
</li>
<li>The symmetrical half model geometry was imported as STEP (.stp) and configured as a watertight flow volume in <a href="../product/professional.html">Caedium Professional</a>. The CFD simulation was performed using the compressible, steady-state RANS solver, and the k-omega SST turbulence model. Caedium supports the recording and playing of <a href="../news/automate-cfd-simulations-with-python-scripting.html">Python-based scripts</a>. </li>
</ul>
  </div>

  <div class="node-links">
    <ul class="links inline"><li class="blog_usernames_blog first last"><a href="6.html" title="Read Richard Smith&#039;s latest blog entries.">Richard Smith&#039;s blog</a></li>
</ul>  </div>

  
</div> <!-- /.node -->




          </div>

        
        
      </div></div> <!-- /.section, /#content -->

      <div id="navigation"><div class="section clearfix">

	           <div id="suckerfishmenu">
            <ul class="menu"><li class="expanded first"><a href="../products.html">Products</a><ul class="menu"><li class="leaf first"><a href="../product/professional.html" title="Caedium Professional">Professional</a></li>
<li class="leaf"><a href="../product/rans.html" title="Caedium RANS Flow">RANS Flow</a></li>
<li class="leaf"><a href="../product/panel.html" title="Caedium Panel Flow">Panel Flow</a></li>
<li class="leaf"><a href="../product/builder.html" title="Caedium Builder">Builder</a></li>
<li class="leaf"><a href="../product/transient.html" title="Caedium Transient">Transient</a></li>
<li class="leaf"><a href="../product/exchange.html" title="Caedium Exchange">Exchange</a></li>
<li class="leaf"><a href="../product/viz.html" title="Caedium Viz Export">Viz Export</a></li>
<li class="leaf"><a href="../product/caedium.html">Caedium</a></li>
<li class="leaf"><a href="../product/comparison.html">Comparison</a></li>
<li class="leaf last"><a href="../product/testimonials.html" title="Caedium Testimonials">Testimonials</a></li>
</ul></li>
<li class="leaf"><a href="../examples.html" title="">Examples</a></li>
<li class="leaf"><a href="../tutorials.html">Tutorials</a></li>
<li class="leaf"><a href="../news.html">News</a></li>
<li class="collapsed"><a href="../blog.html">Blog</a></li>
<li class="leaf"><a href="../about.html" title="">About</a></li>
<li class="expanded last"><a href="../resources.html" title="">More »</a><ul class="menu"><li class="leaf first"><a href="../articles.html">Articles</a></li>
<li class="leaf"><a href="../image.html">Gallery</a></li>
<li class="leaf"><a href="../support.html" title="Frequently Asked Questions">FAQ</a></li>
<li class="leaf"><a href="../forum.html">Forums</a></li>
<li class="leaf"><a href="../downloads.html" title="">Downloads</a></li>
<li class="leaf"><a href="../newsletters.html" title="">Newsletters</a></li>
<li class="leaf"><a href="../partners.html">Partners</a></li>
<li class="leaf"><a href="../poll.html">Polls</a></li>
<li class="leaf last"><a href="../links.html" title="">Links</a></li>
</ul></li>
</ul>          </div>
        
        
        
      </div></div> <!-- /.section, /#navigation -->

      
      <div class="region region-sidebar-second column sidebar"><div class="section">
  
<div id="block-block-23" class="block block-block region-odd odd region-count-1 count-1  block-1"><div class="block-inner">

      <h2 class="title">Feedback</h2>
  
  <div class="content">
    Questions? Ideas? Problems?<br /><br />
<a href="../forum.html"><img title="Forums" alt="Forums" src="../files/flair/feedback-button.png" width="177" height="43" /></a>  </div>

  
</div></div> <!-- /block-inner, /block -->

<div id="block-views-newsletters_view-block_1" class="block block-views region-even even region-count-2 count-2  block-2"><div class="block-inner">

      <h2 class="title">Newsletter</h2>
  
  <div class="content">
    <div class="view view-newsletters-view view-id-newsletters_view view-display-id-block_1 view-dom-id-1 view-newsletters-view view-id-newsletters_view view-display-id-block_1 view-dom-id-1">
  
  
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <div class="views-field-title">
                <span class="field-content"><a href="../newsletters/may-2019-new-caedium-release-and-tutorials.html">May 2019: New Caedium Release and Tutorials</a></span>
  </div>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="../newsletters/july-2017-digital-paleontology-with-cfd.html">July 2017: Digital Paleontology with CFD</a></span>
  </div>
</li>
          <li class="views-row views-row-3 views-row-odd views-row-last">  
  <div class="views-field-title">
                <span class="field-content"><a href="../newsletters/june-2017-runners-insects-and-a-wind-turbine.html">June 2017: Runners, Insects, and a Wind Turbine</a></span>
  </div>
</li>
      </ul>
</div>    </div>
  
  
  
      
<div class="more-link">
  <a href="../newsletters.html">
    more  </a>
</div>
  
  
  
</div> <!-- /.view -->
  </div>

  
</div></div> <!-- /block-inner, /block -->

<div id="block-blog-0" class="block block-blog region-odd odd region-count-3 count-3  block-3"><div class="block-inner">

      <h2 class="title">Recent blog posts</h2>
  
  <div class="content">
    <div class="item-list"><ul><li class="first"><a href="cfd-simulates-distant-past.html">CFD Simulates Distant Past</a></li>
<li><a href="background-caedium-v6-0-release.html">Background on the Caedium v6.0 Release</a></li>
<li><a href="long-necked-dinosaurs-succumb-to-cfd.html">Long-Necked Dinosaurs Succumb To CFD</a></li>
<li><a href="cfd-provides-insight-into-mystery-fossils.html">CFD Provides Insight Into Mystery Fossils</a></li>
<li><a href="wind-turbine-design-according-to-insects.html">Wind Turbine Design According to Insects</a></li>
<li><a href="runners-discover-drafting.html">Runners Discover Drafting</a></li>
<li><a href="wind-tunnel-and-cfd-reveal-best-cycling-tuck.html">Wind Tunnel and CFD Reveal Best Cycling Tuck</a></li>
<li><a href="active-aerodynamics-on-the-lamborghini-huracan-performante.html">Active Aerodynamics on the Lamborghini Huracán Performante</a></li>
<li><a href="fluidic-logic.html">Fluidic Logic</a></li>
<li class="last"><a href="stonehenge-vortex-revealed-as-april-fools-day-distortion-field.html">Stonehenge Vortex Revealed as April Fools&#039; Day Distortion Field</a></li>
</ul></div><div class="more-link"><a href="../blog.html" title="Read the latest blog entries.">more</a></div>  </div>

  
</div></div> <!-- /block-inner, /block -->

<div id="block-block-4" class="block block-block region-even even region-count-4 count-4  block-4"><div class="block-inner">

      <h2 class="title">RSS Feed</h2>
  
  <div class="content">
    <a href="feed" rel="alternate" type="application/rss+xml"><img src="../files/images/other/feed-icon32x32.png" alt="" style="vertical-align:middle;border:0"/>&nbsp;Get our Blog feed</a>   </div>

  
</div></div> <!-- /block-inner, /block -->
</div></div> <!-- /.section, /.region -->

    </div></div> <!-- /#main, /#main-wrapper -->

          <div id="footer"><div class="section">

                  <div id="footer-message">Copyright &copy; 2006-2024 Symscape, All rights reserved | <a href="../contact.html">Contact</a> | <a href="../trademarks.html">Trademarks</a> | <a href="../privacy.html">Privacy</a></div>
        
        
      </div></div> <!-- /.section, /#footer -->
    
  </div></div> <!-- /#page, /#page-wrapper -->

  
  
</body>

<!-- Mirrored from www.symscape.com/blog/automated-cfd-angle-of-attack-sweep-for-airliner by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Aug 2024 15:17:38 GMT -->
</html>
