
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from www.symscape.com/openfoam-on-windows by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Aug 2024 15:02:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>OpenFOAM on Windows | Symscape</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="files/logos/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="files/css/css_a8a589a7baa071201a9648b06a782871.css" />
<link type="text/css" rel="stylesheet" media="print" href="files/css/css_c728179816712ba7ae086da46d76f784.css" />
<!--[if IE]>
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/cti_flex/css/ie.css?x" />
<![endif]-->
<!--[if lte IE 6]>
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/cti_flex/css/ie6.css?x" />
<![endif]-->
  <script type="text/javascript" src="files/js/js_b3126871db8a9e9462462578379e6fd8.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/" });
//--><!]]>
</script>
  <style type="text/css">
body {font-family: Arial, Helvetica, "Bitstream Vera Sans", sans-serif;}
</style>  <style type="text/css">
body {background: #eeeeee none;}
#header .section, #footer { background: #A0BAE1 none; }
#site-name a:link, #site-name a:visited, #site-slogan, #footer { color: #034695; }
</style>
  <!--[if lte IE 6]>
  <script type="text/javascript" src="/sites/all/themes/cti_flex/js/suckerfish.js"></script>
  <![endif]-->
</head>

<body class="not-front not-logged-in node-type-story page-openfoam-on-windows section-openfoam-on-windows one-sidebar sidebar-second ">

  <div id="page-wrapper"><div id="page">

    <div id="header"><div class="section clearfix">

      
              <div id="logo-title">

                      <div id="logo"><a href="index.html" title="Home" rel="home"><img src="files/logos/logo.png" alt="Home" id="logo-image" /></a></div>
          
              <div id="title-slogan">

                                    <h1 id="site-name">
                <a href="index.html" title="Home" rel="home">
                Symscape                </a>
              </h1>
                      
                      <div id="site-slogan">Computational Fluid Dynamics Software for All</div>
          
          </div> <!-- /#title-slogan -->
        
        </div> <!-- /#logo-title -->
      
      <div class="region region-header">
  
<div id="block-block-22" class="block block-block region-odd odd region-count-1 count-3  no-header block-1"><div class="block-inner">

  
  <div class="content">
    <a href="get-started-with-caediume8d9.html?utm_medium=home&amp;utm_campaign=getstarted&amp;utm_source=header"><img src="files/flair/productbanner.gif" width="408" height="112" alt="Get Started With Caedium Now" title="Get Started With Caedium Now" /></a>  </div>

  
</div></div> <!-- /block-inner, /block -->
</div> <!-- /.region -->

    </div></div> <!-- /.section, /#header -->

    <div id="main-wrapper"><div id="main" class="clearfix  with-navigation">

      <div id="content" class="column"><div class="section">

        
        
        <div class="breadcrumb"><a href="index.html">Home</a> â€º <a href="articles.html">Articles</a></div>                  <h1 class="title">OpenFOAM on Windows</h1>
                                
        
        <div id="content-area">
          <div id="node-624" class="node node-type-story clearfix">

   
  
  
  
      <div class="meta">
              <span class="submitted">
          Submitted by symscape on March 21, 2008 - 12:57        </span>
      
              <div class="terms terms-inline"><ul class="links inline"><li class="taxonomy_term_15 first last"><a href="articles.html" rel="tag" title="General interest">Articles</a></li>
</ul></div>
          </div>
  
  <div class="content">
    <p><em>For the <strong>latest version</strong> of our Windows patch for OpenFOAM visit <a href="openfoam-2-2-x-on-windows.html">"OpenFOAM 2.2.x on Windows"</a>.</em></p>
<p><a href="node/808.html">OpenFOAM</a> is a versatile open-source multi-physics simulation toolbox. It can simulate fluid flow (CFD), solid dynamics and electromagnetics (CEM). OpenFOAM was originally developed for Unix platforms, such as Linux, and until now there has not been a method for producing a native Windows version.</p>
<p><span class="inline inline-center"><img src="files/articles/openfoam-windows/openfoam-on-windows.png" alt="OpenFOAM on Windows" title="OpenFOAM on Windows" /><span class="caption"><strong>OpenFOAM on Windows</strong></span></span></p>
<h3>OpenFOAM GUI</h3>
<p><em>Are you looking for a <strong>GUI driven, integrated simulation environment for Windows, Linux, and Mac</strong> incorporating a selection of the <strong>RANS OpenFOAM solvers</strong> and various import/export filters?</em></p>
<p><span class="inline inline-center"><img src="files/images/professional.png" alt="Caedium Professional" width="640" height="480" /></span></p>
<p><span class="inline inline-center"><a href="get-started-with-caedium.html"><img title="Get Started With Caedium Now" alt="Get Started With Caedium Now" src="files/flair/get-started-button.png" width="177" height="43" /></a></span></p>
<h3>Background</h3>
<p>OpenFOAM is developed by OpenCFD Ltd., which is led by Henry Weller. The software and any derivatives (such as the work described here) are freely available under the <a href="http://www.gnu.org/licenses/licenses.html#GPL">GNU General Public License</a>.</p>
<h3>OpenFOAM Windows Port</h3>
<p>There are a number of issues to address for a Windows version of OpenFOAM:</p>
<ul>
<li>OpenFOAM is dependent on a Unix build environment using tools such as bash scripts, make and flex.</li>
<li>Some source filenames within OpenFOAM are identical except for upper and lower case differences (e.g., "vector.H", "Vector.H"). Windows does not, by default, differentiate between such names. Also, these names can clash with standard system filenames such as "vector.h".</li>
<li>OpenFOAM makes system calls to Unix specific functions such as getenv.</li>
<li>OpenFOAM has a cyclic dependency between its Pstream and OpenFOAM libraries.</li>
</ul>
<h3>Cygwin</h3>
<p>One option to build and run OpenFOAM on Windows is to use <a href="http://www.cygwin.com/">Cygwin</a>, which emulates a Linux environment for building and running Linux programs. To overcome filename clashes all names likely to clash must be changed.</p>
<p>While Cygwin is an option (as demonstrated by <a href="http://dpdx.net/openfoam-cygwin/">"The Unofficial OpenFOAM Cygwin Port"</a> and <a href="http://openfoam-extend.wiki.sourceforge.net/">"OpenFOAM extensions"</a>) for those that don't have access to a Linux computer, it comes with the overhead of slower runtime speed and is complex to configure.</p>
<h3>Cross Compiler</h3>
<p>A <a href="http://en.wikipedia.org/wiki/Cross_compiler">cross compiler</a> allows compilation of source code on one computer-OS pair (such as  Intel-Linux) that is destined to execute on another computer-OS pair (such as Intel-Windows). A Windows cross compiler (combining <a href="http://gcc.gnu.org/">gcc</a> and <a href="http://www.mingw.org/">MinGW</a>) running on Linux can use the OpenFOAM build environment with only minor modifications and requires no special treatment for the filename clashing issues.</p>
<p>By initially focusing on a serial (rather than parallel) version of OpenFOAM, the cyclic library dependency can be avoided by compiling the dummy Pstream files as part of the OpenFOAM library.</p>
<p>The remaining task is to provide the native Windows system calls to mimic the current native Unix system calls that OpenFOAM uses. Within the structure of the src/OpenFOAM library is the OSspecific directory that contains a Unix directory and is also where a new directory, MSwindows, will house the native Windows source code.</p>
<p>Once compiled the executables and libraries produced by a Windows cross compiler will not require any Linux emulation (such as Cygwin) and will run as fast as any other native Windows application.</p>
<p>A drawback of this cross compiler approach is the inability to build a new executable using the OpenFOAM libraries under Windows unless you are willing to enable the case sensitive file system option. Another option would be to combine the modifications described here with those in "The Unofficial OpenFOAM Cygwin Port" for a Windows build environment.</p>
<h3><a name="patch-build-process"></a>Patch Build Process</h3>
<p>The following steps are required to produce a native Windows version of OpenFOAM 1.4.1 using a cross compiler:</p>
<ol>
<li>Configure, build, install and test a <a href="http://www.mingw.org/wiki/LinuxCrossMinGW">MinGW cross compiler</a> for Windows running on Linux. I used the <a href="files/articles/openfoam-windows/build-mingw.html">build-mingw</a> script</li>
<li>Add <code>#include_next &lt;float.h&gt;</code> to the end of<br />
"lib/gcc/mingw32/4.2.3/include/float.h" and remove it from<br />
"mingw32/include/float.h" to include the right "float.h".</li>
<li>Install the <a href="http://www.opencfd.co.uk/openfoam/download.html">OpenFOAM 1.4.1 source</a> distribution on Linux.</li>
<li>Remove all lnInclude directories using wcleanLnIncludeAll in the OpenFOAM installation directory. Thanks to Jason Dale for pointing out this problem.</li>
<li>Remove the directory src/OpenFOAM/OSspecific - it has to be out of the OpenFOAM source tree completely. It will be recreated by the patch.</li>
<li>Patch (using the Linux patch command) the OpenFOAM 1.4.1 source distribution with our <a href="files/articles/openfoam-windows/v5-mingw-openfoam-1-4-1.patch.zip">MinGW Windows modifications</a> [last updated April 3, 2008 to v5].</li>
<li>Copy wmkdep and dirToString from wmake/rules/linuxGcc to wmake/rules/linuxmingw32.</li>
<li>Modify and source the .OpenFOAM-1.4.1/bashrc-mingw32 script to match your OpenFOAM 1.4.1 source location.</li>
<li>Build using Allwmake in the OpenFOAM-1.4.1 directory on Linux.</li>
<li>Transfer the OpenFOAM executables (applications/bin/linuxmingw32DPOpt/*.exe) and libraries (lib/linuxmingw32DPOpt/*.dll) to the Windows computer.</li>
<li>Launch a Windows command prompt to run OpenFOAM.</li>
</ol>
<p>On the Windows computer ensure the following:</p>
<ul>
<li>The WM_PROJECT_DIR and WM_PROJECT_USER_DIR variables are set.</li>
<li>The .OpenFOAM-1.4.1 directory from the original source distribution is within the WM_PROJECT_DIR.</li>
<li>The PATH variable is set to include the OpenFOAM executable and library locations.</li>
</ul>
<h3>Constraints</h3>
<p>With this method of building OpenFOAM for Windows the following features (there maybe more) are unavailable:</p>
<ul>
<li>job control scripts in bin (such as foamSolverSweeps)</li>
<li>FoamX (the OpenFOAM pre-processor)</li>
<li>parallel</li>
</ul>
<p>The following libraries are unlikely to build:</p>
<ul>
<li>libccmio</li>
<li>libcgns</li>
<li>metis and any dependents</li>
</ul>
<h3>Tips</h3>
<p>You may need to copy foamFlex++ from a Linux OpenFOAM build to the MinGW build (applications/bin/linuxmingw32DPOpt).</p>
<p><a href="node/808.html">OpenFOAM</a> is a registered trademark of OpenCFD and is unaffiliated with Symscape.</p>
  </div>

  <div class="node-links">
      </div>

  
</div> <!-- /.node -->




  <div id="comments" class="comment_wrapper">
      <h2 class="title">Comments</h2>
  
  <a id="comment-128"></a>
<div class="comment comment-published first odd comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-128" class="active">Parallel OpenFOAM on Windows</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on March 25, 2008 - 13:02.  </div>

  <div class="content">
    <p>The process described here is a workaround for the cyclic dependency between the Pstream and OpenFOAM libraries.</p>
<p>If you want to compile a parallel version of OpenFOAM for Windows then:</p>
<ol>
<li>Perform build steps 1-9 of the original <a href="#patch-build-process">patch build process</a></li>
<li>Ensure LIB_LIBS in src/Pstream/dummy/Make/options contains <code>-lOpenFOAM</code></li>
<li>Build the dummy parallel library using <code>wmake libso Pstream/dummy</code></li>
<li>Remove the reference to the dummy parallel files in src/OpenFOAM/Make/files</li>
<li>Ensure LIB_LIBS in src/OpenFOAM/Make/options contains <code>-L$(FOAM_LIBBIN)/dummy -lPstream</code></li>
<li>Rebuild the OpenFOAM library using <code>wmake libso OpenFOAM</code></li>
</ol>
<p>You only have to perform this process once, after which libOpenFOAM.dll will depend on libPstream.dll. You can then compile other libPstream.dll libraries, such as mpi. Ensure the parallel library you wish to use is in your executable path on Windows.</p>
      </div>

  </div> <!-- /.comment -->
<a id="comment-129"></a>
<div class="comment comment-published even comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-129" class="active">OpenFOAM Windows Timing Comparisons</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on March 26, 2008 - 10:37.  </div>

  <div class="content">
    <p>Here are results of an execution time (as reported by OpenFOAM) comparison between OpenFOAM running on the same dual boot computer.</p>
<p>Computer specifications were:</p>
<ul>
<li>2.6GHz Pentium 4 with Hyper Threading</li>
<li>32 bit</li>
<li>1GB RAM</li>
</ul>
<p>The case was the icoDyMFoam (movingCone) OpenFOAM tutorial.</p>
<table border="1">
<tr>
<th rowspan="2"></th>
<th colspan="2"><a href="http://www.microsoft.com/windows/windows-xp/default.aspx">Windows XP</a> Pro SP2</th>
<th rowspan="2">Linux<br />(<a href="http://www.ubuntu.com/">Ubuntu</a> 7.10)</th>
<th rowspan="2"><a href="http://www.winehq.org/">Wine</a><br />(v0.9.46)</th>
</tr>
<tr>
<th>High<br />Priority</th>
<th>Normal<br />Priority</th>
</tr>
<tr>
<th>Time</th>
<td>65.708 s</td>
<td>68.942 s</td>
<td>50.8 s</td>
<td>67.3 s</td>
</tr>
<tr>
<th>% of Linux</th>
<td>129%</td>
<td>136%</td>
<td>100%</td>
<td>132%</td>
</tr>
<tr>
<th>Log File</th>
<td><a href="files/articles/openfoam-windows/icodymfoam-windows-high.txt">windows-high</a></td>
<td><a href="files/articles/openfoam-windows/icodymfoam-windows-normal.txt">window-normal</a></td>
<td><a href="files/articles/openfoam-windows/icodymfoam-linux.txt">linux</a></td>
<td><a href="files/articles/openfoam-windows/icodymfoam-wine.txt">wine</a></td>
</tr>
</table>
<p>Wine is a Windows emulator that runs under Linux.</p>
      </div>

  </div> <!-- /.comment -->
<a id="comment-131"></a>
<div class="comment comment-published odd comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-131" class="active">Another Timing Comparison</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on March 27, 2008 - 14:58.  </div>

  <div class="content">
    <p>Another timing comparison (suggested by Henry Weller) for a much larger 3D case using the same machine as <a href="#comment-129">previous</a>.</p>
<p>The case was the Xoodles pitzDaily3D OpenFOAM tutorial, with the following modifications:</p>
<ul>
<li>on the internal cells and walls k was initialized to 2e-10 to avoid divide by zero</li>
<li>limited to first 20 timesteps</li>
<li>for Windows the file 0/b was renamed to 0/b_ to avoid conflict with the file 0/B (this is why the patch was updated)</li>
</ul>
<table border="1">
<tr>
<th></th>
<th>Windows XP Pro SP2</th>
<th>Linux<br />(Ubuntu 7.10)</th>
<th>Wine<br />(v0.9.46)</th>
</tr>
<tr>
<th>Time</th>
<td>739.906 s</td>
<td>524.84 s</td>
<td>702.27 s</td>
</tr>
<tr>
<th>% of Linux</th>
<td>141%</td>
<td>100%</td>
<td>134%</td>
</tr>
<tr>
<th>Log File</th>
<td><a href="files/articles/openfoam-windows/pitzdaily3d-windows.txt">windows</a></td>
<td><a href="files/articles/openfoam-windows/pitzdaily3d-linux.txt">linux</a></td>
<td><a href="files/articles/openfoam-windows/pitzdaily3d-wine.txt">wine</a></td>
</tr>
</table>
      </div>

  </div> <!-- /.comment -->
<a id="comment-132"></a>
<div class="comment comment-published even comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-132" class="active">OpenFOAM Windows Patch v3 Available</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on March 28, 2008 - 14:10.  </div>

  <div class="content">
    <p>Thanks to Bernhard Gschaider for pointing out some deficiencies in the OpenFOAM Windows patch and Henry Weller for suggesting a solution.</p>
<p>The latest patch (v3), in the <a href="#patch-build-process">build process</a> above, now allows multiple platforms (e.g., MinGW and Linux) to build using the same source without having to start from scratch each time.</p>
      </div>

  </div> <!-- /.comment -->
<a id="comment-133"></a>
<div class="comment comment-published odd comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-133" class="active">OpenFOAM Windows Patch v4 Available</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on March 29, 2008 - 10:27.  </div>

  <div class="content">
    <p>Thanks again to Henry Weller for suggesting a better encapsulation of the OSspecific library.</p>
<p>The latest patch (v4), in the <a href="#patch-build-process">build process</a> above, builds the OSspecific object collection which is then linked into the OpenFOAM shared library. This is a more flexible approach to allow the OSspecific library to vary across platforms.</p>
<p>The final compiled runtime libraries and executables from patches v3 and v4 will be identical, so if you've already compiled OpenFOAM using v3 then there's no need to compile again with v4.</p>
      </div>

  </div> <!-- /.comment -->
<a id="comment-136"></a>
<div class="comment comment-published even comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-136" class="active">OpenFOAM Windows Patch v5 Available</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on April 3, 2008 - 10:40.  </div>

  <div class="content">
    <p>Thanks to Allen Zhao for pointing out that applying the previous patch (v4) didn't create needed empty Make/options files.</p>
<p>The latest patch (v5), in the <a href="#patch-build-process">build process</a> above, now ensures, that when applied, the patch will create empty Make/options files. Also redundant linking to libOpenFOAM is removed when building executables.</p>
<p>The final compiled runtime libraries and executables from patches v4 and v5 will be identical. If you want to bring the previous patched build (v4) up to date with v5 then perform the following:</p>
<ul>
<li><code>touch src/OSspecific/MSwindows/Make/options</code></li>
<li><code>touch src/OSspecific/Unix/Make/options</code></li>
</ul>
      </div>

  </div> <!-- /.comment -->
<a id="comment-180"></a>
<div class="comment comment-published odd comment-by-anonymous clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-180" class="active">&quot;divide by zero&quot; FPE issue in MingW port</a>          </h3>
  
  
  <div class="submitted">
    Submitted by <a href="http://www.gtisoft.com/" rel="nofollow">Allen Zhao</a> (not verified) on September 3, 2008 - 15:21.  </div>

  <div class="content">
    <p>Hi, </p>
<p>This is Allen. I am running into a "floating divide by zero" issue on Windows. Following is what I posted on OpenFOAM message board. I am wondering if you know of a MingW compiler option that could be more tolerant to such error?</p>
<p>Best regards,</p>
<p>Allen Zhao</p>
<p>------------------------------------------------------</p>
<p>Hi, All,</p>
<p>I am running a modified version of OpenFOAM 1.4.1 cross-compiled with MingW compiler on Windows, and we have a runtime error like:</p>
<p>forrtl: error (73): floating divide by zero</p>
<p>On Windows (MingW port) his error will get triggered with or without FOAM_SIGFPE being set.</p>
<p>The same source code compiled with Linux/gcc can run when FOAM_SIGFPE is NOT set, but will crash in the same location when FOAM_SIGFPE is set in the env.</p>
<p>So obviously, this is an issue with the Foam::sigFpe::set() implementation.</p>
<p>Is there any special gcc switch used in the Linux compilation that allows more tolerance to division by zero?</p>
<p>Any suggestions?</p>
      </div>

  </div> <!-- /.comment -->
<a id="comment-182"></a>
<div class="comment comment-published even comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-182" class="active">Possible MinGW FPE Solution</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on September 4, 2008 - 07:34.  </div>

  <div class="content">
    <p>Hi Allen,</p>
<p>Thanks for posting this problem. I think it is an issue with the MinGW compiler. I propose that we try an OpenFOAM source code modification rather than try to mod the MinGW compiler.</p>
<p>Try modifying src/OSspecific/MSwindows/signals/sigFpe.C as follows (let me know if this works):</p>
<pre>
void Foam::sigFpe::sigFpeHandler(int)
{
    if (env("FOAM_SIGFPE"))
    {
        const __p_sig_fn_t success = ::signal(SIGFPE, oldAction_);

        // Reset old handling
        if (SIG_ERR == success)
        {
            FatalErrorIn
            (
                "Foam::sigSegv::sigFpeHandler()"
            )   &lt;&lt; "Cannot reset SIGFPE trapping"
                &lt;&lt; abort(FatalError);    
        }

        // Update jobInfo file
        jobInfo.signalEnd();

        error::printStack(Perr);

        clearFpe();

        // Throw signal (to old handler)
        ::raise(SIGFPE);
    }
    else
    {
        clearFpe();
    }
}


Foam::sigFpe::sigFpe()
{
    oldAction_ = SIG_DFL;
}


Foam::sigFpe::~sigFpe()
{
    clearFpe();

    // Reset signal
    const __p_sig_fn_t success = ::signal(SIGFPE, oldAction_);
    oldAction_ = SIG_DFL;

    if (SIG_ERR == success)
    {
        FatalErrorIn
        (
            "Foam::sigFpe::~sigFpe()"
        )   &lt;&lt; "Cannot reset SIGFPE trapping"
            &lt;&lt; abort(FatalError);    
    }

    if (env("FOAM_SETNAN"))
    {
        WarningIn("Foam::sigFpe::~sigFpe()")
            &lt;&lt; "FOAM_SETNAN not supported under MSwindows "
            &lt;&lt; endl;
    }
}


void Foam::sigFpe::set()
{
    if (SIG_DFL != oldAction_)
    {
        FatalErrorIn
        (
            "Foam::sigFpe::set()"
        )   &lt;&lt; "Cannot call sigFpe::set() more than once"
            &lt;&lt; abort(FatalError);
    }

    // Install FPE by default because MinGW raises
    // FPE by default. Use env("FOAM_SIGFPE") in 
    // signal handler to decide what to do.
    fpOld_ = _controlfp(0, 0);
    const unsigned int fpNew = 
      fpOld_ & ~(_EM_ZERODIVIDE | _EM_INVALID | _EM_OVERFLOW);
    _controlfp(fpNew, _MCW_EM);

    oldAction_ = ::signal(SIGFPE, &Foam::sigFpe::sigFpeHandler);        

    if (SIG_ERR == oldAction_)
    {
        oldAction_ = SIG_DFL;

        FatalErrorIn
        (
            "Foam::sigFpe::set()"
        )   &lt;&lt; "Cannot set SIGFPE trapping"
            &lt;&lt; abort(FatalError);    
    }
  

    if (env("FOAM_SETNAN"))
    {
        WarningIn("Foam::sigFpe::set()")
            &lt;&lt; "FOAM_SETNAN not supported under MSwindows "
            &lt;&lt; endl;
    }
}
</pre>      </div>

  </div> <!-- /.comment -->
<a id="comment-184"></a>
<div class="comment comment-published odd comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-184" class="active">More OpenFOAM FPE</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on September 5, 2008 - 09:22.  </div>

  <div class="content">
    <p>Hi Allen,</p>
<p>So I dug a little deeper and found that the original (and modified) implementation of src/OSspecific/MSwindows/signals/sigFpe.C works as you'd expect under Wine on Linux and Windows XP.</p>
<p>To generate a floating point exception I added the following to applications/solvers/incompressible/icoFoam/icoFoam.C:</p>
<pre>
int main(int argc, char *argv[])
{
.
.
.
  // FPE Test Begin
  float x = 10;
 
  for (int i = 0; 1 > i; ++i) {
    float result = x / i;
    Info &lt;&lt; "FPE result = " &lt;&lt; result &lt;&lt; end;
  }
  // FPE Test End
.
.
.
  return (0);
}
</pre><p>
I set the dos variable (set FOAM_SIGFPE=1) and the application stopped (without an error message - but that's another story). When I unset the dos variable (set FOAM_SIGFPE= ) the application worked fine reporting "FPE result = infinite"</p>
<p>I wonder if there's something affecting the FPE behavior within your environment?</p>
      </div>

  </div> <!-- /.comment -->
<a id="comment-1920"></a>
<div class="comment comment-published last even comment-by-anonymous clearfix">
  
      <h3 class="title">
      <a href="openfoam-on-windows.html#comment-1920" class="active">These instructions seem to be</a>          </h3>
  
  
  <div class="submitted">
    Submitted by Paritosh (not verified) on March 21, 2014 - 05:00.  </div>

  <div class="content">
    <p>These instructions seem to be ok for someone who is expert with linux. Can some one please post same intructions explained step-by-step along with exact commands? It would be very helpful for people like mewho can barely run linux.</p>
      </div>

  </div> <!-- /.comment -->
</div>
        </div>

        
        
      </div></div> <!-- /.section, /#content -->

      <div id="navigation"><div class="section clearfix">

	           <div id="suckerfishmenu">
            <ul class="menu"><li class="expanded first"><a href="products.html">Products</a><ul class="menu"><li class="leaf first"><a href="product/professional.html" title="Caedium Professional">Professional</a></li>
<li class="leaf"><a href="product/rans.html" title="Caedium RANS Flow">RANS Flow</a></li>
<li class="leaf"><a href="product/panel.html" title="Caedium Panel Flow">Panel Flow</a></li>
<li class="leaf"><a href="product/builder.html" title="Caedium Builder">Builder</a></li>
<li class="leaf"><a href="product/transient.html" title="Caedium Transient">Transient</a></li>
<li class="leaf"><a href="product/exchange.html" title="Caedium Exchange">Exchange</a></li>
<li class="leaf"><a href="product/viz.html" title="Caedium Viz Export">Viz Export</a></li>
<li class="leaf"><a href="product/caedium.html">Caedium</a></li>
<li class="leaf"><a href="product/comparison.html">Comparison</a></li>
<li class="leaf last"><a href="product/testimonials.html" title="Caedium Testimonials">Testimonials</a></li>
</ul></li>
<li class="leaf"><a href="examples.html" title="">Examples</a></li>
<li class="leaf"><a href="tutorials.html">Tutorials</a></li>
<li class="leaf"><a href="news.html">News</a></li>
<li class="collapsed"><a href="blog.html">Blog</a></li>
<li class="leaf"><a href="about.html" title="">About</a></li>
<li class="expanded last"><a href="resources.html" title="">More Â»</a><ul class="menu"><li class="leaf first"><a href="articles.html">Articles</a></li>
<li class="leaf"><a href="image.html">Gallery</a></li>
<li class="leaf"><a href="support.html" title="Frequently Asked Questions">FAQ</a></li>
<li class="leaf"><a href="forum.html">Forums</a></li>
<li class="leaf"><a href="downloads.html" title="">Downloads</a></li>
<li class="leaf"><a href="newsletters.html" title="">Newsletters</a></li>
<li class="leaf"><a href="partners.html">Partners</a></li>
<li class="leaf"><a href="poll.html">Polls</a></li>
<li class="leaf last"><a href="links.html" title="">Links</a></li>
</ul></li>
</ul>          </div>
        
        
        
      </div></div> <!-- /.section, /#navigation -->

      
      <div class="region region-sidebar-second column sidebar"><div class="section">
  
<div id="block-block-23" class="block block-block region-odd odd region-count-1 count-1  block-1"><div class="block-inner">

      <h2 class="title">Feedback</h2>
  
  <div class="content">
    Questions? Ideas? Problems?<br /><br />
<a href="forum.html"><img title="Forums" alt="Forums" src="files/flair/feedback-button.png" width="177" height="43" /></a>  </div>

  
</div></div> <!-- /block-inner, /block -->

<div id="block-views-newsletters_view-block_1" class="block block-views region-even even region-count-2 count-2  block-2"><div class="block-inner">

      <h2 class="title">Newsletter</h2>
  
  <div class="content">
    <div class="view view-newsletters-view view-id-newsletters_view view-display-id-block_1 view-dom-id-1 view-newsletters-view view-id-newsletters_view view-display-id-block_1 view-dom-id-1">
  
  
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <div class="views-field-title">
                <span class="field-content"><a href="newsletters/may-2019-new-caedium-release-and-tutorials.html">May 2019: New Caedium Release and Tutorials</a></span>
  </div>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="newsletters/july-2017-digital-paleontology-with-cfd.html">July 2017: Digital Paleontology with CFD</a></span>
  </div>
</li>
          <li class="views-row views-row-3 views-row-odd views-row-last">  
  <div class="views-field-title">
                <span class="field-content"><a href="newsletters/june-2017-runners-insects-and-a-wind-turbine.html">June 2017: Runners, Insects, and a Wind Turbine</a></span>
  </div>
</li>
      </ul>
</div>    </div>
  
  
  
      
<div class="more-link">
  <a href="newsletters.html">
    more  </a>
</div>
  
  
  
</div> <!-- /.view -->
  </div>

  
</div></div> <!-- /block-inner, /block -->
</div></div> <!-- /.section, /.region -->

    </div></div> <!-- /#main, /#main-wrapper -->

          <div id="footer"><div class="section">

                  <div id="footer-message">Copyright &copy; 2006-2024 Symscape, All rights reserved | <a href="contact.html">Contact</a> | <a href="trademarks.html">Trademarks</a> | <a href="privacy.html">Privacy</a></div>
        
        
      </div></div> <!-- /.section, /#footer -->
    
  </div></div> <!-- /#page, /#page-wrapper -->

  
  
</body>

<!-- Mirrored from www.symscape.com/openfoam-on-windows by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Aug 2024 15:02:46 GMT -->
</html>
