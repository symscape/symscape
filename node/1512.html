
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from www.symscape.com/node/1512 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Aug 2024 15:30:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Question about minimum E Ratio and Vol Ratio values | Symscape</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../files/logos/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../files/css/css_a8a589a7baa071201a9648b06a782871.css" />
<link type="text/css" rel="stylesheet" media="print" href="../files/css/css_c728179816712ba7ae086da46d76f784.css" />
<!--[if IE]>
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/cti_flex/css/ie.css?x" />
<![endif]-->
<!--[if lte IE 6]>
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/cti_flex/css/ie6.css?x" />
<![endif]-->
  <script type="text/javascript" src="../files/js/js_b3126871db8a9e9462462578379e6fd8.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/" });
//--><!]]>
</script>
  <style type="text/css">
body {font-family: Arial, Helvetica, "Bitstream Vera Sans", sans-serif;}
</style>  <style type="text/css">
body {background: #eeeeee none;}
#header .section, #footer { background: #A0BAE1 none; }
#site-name a:link, #site-name a:visited, #site-slogan, #footer { color: #034695; }
</style>
  <!--[if lte IE 6]>
  <script type="text/javascript" src="/sites/all/themes/cti_flex/js/suckerfish.js"></script>
  <![endif]-->
</head>

<body class="not-front not-logged-in node-type-forum page-node-1512 section-node one-sidebar sidebar-second ">

  <div id="page-wrapper"><div id="page">

    <div id="header"><div class="section clearfix">

      
              <div id="logo-title">

                      <div id="logo"><a href="../index.html" title="Home" rel="home"><img src="../files/logos/logo.png" alt="Home" id="logo-image" /></a></div>
          
              <div id="title-slogan">

                                    <h1 id="site-name">
                <a href="../index.html" title="Home" rel="home">
                Symscape                </a>
              </h1>
                      
                      <div id="site-slogan">Computational Fluid Dynamics Software for All</div>
          
          </div> <!-- /#title-slogan -->
        
        </div> <!-- /#logo-title -->
      
      <div class="region region-header">
  
<div id="block-block-22" class="block block-block region-odd odd region-count-1 count-3  no-header block-1"><div class="block-inner">

  
  <div class="content">
    <a href="../get-started-with-caediume8d9.html?utm_medium=home&amp;utm_campaign=getstarted&amp;utm_source=header"><img src="../files/flair/productbanner.gif" width="408" height="112" alt="Get Started With Caedium Now" title="Get Started With Caedium Now" /></a>  </div>

  
</div></div> <!-- /block-inner, /block -->
</div> <!-- /.region -->

    </div></div> <!-- /.section, /#header -->

    <div id="main-wrapper"><div id="main" class="clearfix  with-navigation">

      <div id="content" class="column"><div class="section">

        
        
        <div class="breadcrumb"><a href="../index.html">Home</a> › <a href="../forum.html">Forums</a> › <a href="../forum/46.html">Questions</a></div>                  <h1 class="title">Question about minimum E Ratio and Vol Ratio values</h1>
                                
        
        <div id="content-area">
          <div id="node-1512" class="node node-type-forum clearfix">

   
  
  
  
      <div class="meta">
              <span class="submitted">
          Submitted by PeterG on July 30, 2014 - 13:08        </span>
      
              <div class="terms terms-inline"><ul class="links inline"><li class="taxonomy_term_46 first last"><a href="../forum/46.html" rel="tag" title="Get answers to product (e.g., Caedium) questions. View Ratings">Questions</a></li>
</ul></div>
          </div>
  
  <div class="content">
    <p>Hello. I was wondering if there are minimum E Ratio and Vol Ratio values to have as a goal? </p>
<p>I am asking because I have kept increasing the mesh resolution of my simulation to increase the minimum E Ratio and Vol Ratio values of my mesh elements, but after many tries still cannot get the solver to run my current simulation and get the “illegal cell label -1 in neighbor addressing for face 22474339” message. I know from Symscape’s webpage on solver problems that that this error message is related to failure of the volume to mesh either because of a geometry or mesh problem(s). That said, is there a practical minimum E Ratio and/or Vol Ratio to seek before even trying to run the solver?</p>
<p>My lowest-ratio E Ratio element is visible until the top slider is at the bottom of the scale (0.239) and my lowest-ratio Vol Ratio element is is visible until I move the top slider down to ~ 0.140. I have to move the Vol Ratio slider up to ~ 0.20 to see any clusters, and even then I only see a few. </p>
<p>I have also looked over the geometry, redrawn the geometry, checked BC assignments, checked the substance assignment, etc., and cannot find problems there, hence my focusing on the mesh resolution.</p>
<p>I keep trying but have worked on this for two weeks without resolution, so many thanks in advance for any help!</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1524.html" class="topic-previous" title="Go to previous forum topic">‹ Streamline question</a>
              <a href="1521.html" class="topic-next" title="Go to next forum topic">The effects of airflow on droplet trajectory ›</a>
      </div>
  </div>

  <div class="node-links">
      </div>

  
</div> <!-- /.node -->




  <div id="comments" class="comment_wrapper">
  
  <a id="comment-2027"></a>
<div class="comment comment-published first odd clearfix">
  
      <h3 class="title">
      <a href="1512.html#comment-2027" class="active">Fix the mesh problems before proceeding</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on August 4, 2014 - 12:08.  </div>

  <div class="content">
    <p>If there are warnings issued during the surface or volume mesh generation phases then you have to fix them. There is no point proceeding past that point to set up the simulation - it will certainly fail, usually with the error you cited.</p>
<p>There is no hard and fast rule on mesh metric values (<strong>E Ratio</strong> and <strong>Vol Ratio</strong>). You have to be sure you are looking at the elements values (<strong>Style = Flat</strong>) and not node values (<strong>Style = Smooth</strong>) when assessing the quality of the mesh. The best explanation for diagnosing problems is at the FAQ <a href="1166.html">"How do I fix mesh and solver failures?"</a>.</p>
<p>The lowest mesh metric value in the view legend color bar is present in your simulation somewhere - the range is automatically set to the min and max values. Sometimes the poor elements are so small that they aren't easy to see. Try making all your edges invisible so that poor areas stand out better. </p>
<p>Sometimes the gaps between faces is too small to fit good quality elements, but that should be highlighted by poor volume elements.</p>
<p>How can you be sure your geometry is good? Have you checked for poorly configured surfaces in your CAD system? Are you certain you've created a valid water tight flow volume?</p>
<p>If your geometry has near zero length edges then that can be a cause for mesh failures, but again you are likely to see poor element clusters. The meshing process in Caedium can often pin-point problems with the geometry due to meshing problems in the same region. It might then need a geometry modification to fix the problem rather than just an increase in the mesh resolution.</p>
<p>When you specify very small mesh size (<a href="723.html">Accuracy tool</a>) values sometimes you might hit the cell count preference limits per face or per volume. There will be warnings issued and at that point you need to fix the problem which might be just increasing those preferences. If you are hitting the preference limits then it's a sign that your element count is going to be massive - you need to be aware that the run times for those sizes of meshes will be long, maybe even exceeding the resources (especially RAM) of your computer.</p>
<p>The cell count preferences limits can be accessed and modified at <strong>File-&gt;Preferences</strong>, then in the <strong>Properties Panel</strong>:</p>
<ul>
<li><strong>Mesh-&gt;Tetulator-&gt;Maximum</strong> - per volume cell count</li>
<li><strong>Mesh-&gt;Triangulator-&gt;Maximum</strong> - per face cell count</li>
</ul>
      </div>

  </div> <!-- /.comment -->
<div class="indented"><a id="comment-2036"></a>
<div class="comment comment-published even comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="1512.html#comment-2036" class="active">Question about Boolean creation of water-tight volume</a>          </h3>
  
  
  <div class="submitted">
    Submitted by PeterG on August 14, 2014 - 12:32.  </div>

  <div class="content">
    <p>Thanks for your detailed reply. I have a question related to producing a water-tight volume: After Boolean-subtracting one volume from another, is the resultant volume automatically water-tight in Caedium, or do I have to stitch the faces together into a water-tight volume again? I have to admit that I have struggled with this enough to have  gotten myself completely confused over the process, which I understand to involve subtracting the object whose flow is to be studied from a larger box/cylinder flow volume. Also, is it preferable to Boolean-subtract using topology-only since that doesn't change the geometry, or does it matter if I am not trying to create an embedded face or non-manifold solid? I am designing and creating solids in Rhino with drawing tolerances of 0.000001 inch to try to have really accurate geometry for my simulation (not that I need it anywhere near that accurate for any other reason), then exported/imported into Caedum as .stp files. I have checked all my edges, surfaces, and polysurfaces/solids in Rhino, and they pass the diagnostics. Any thoughts? I would be happy to privately share my file via Dropbox. Thanks for your thoughtful consideration of this problem, and for any additional help whatsoever.</p>
      </div>

  </div> <!-- /.comment -->
<div class="indented"><a id="comment-2038"></a>
<div class="comment comment-published odd clearfix">
  
      <h3 class="title">
      <a href="1512.html#comment-2038" class="active">No Stitch After Successful Boolean</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on August 14, 2014 - 13:29.  </div>

  <div class="content">
    <p>Just to clarify after a successful Boolean operation you do not need to perform a <strong>Stitch</strong>.</p>
      </div>

  </div> <!-- /.comment -->
<div class="indented"><a id="comment-2045"></a>
<div class="comment comment-published even comment-by-node-author clearfix">
  
      <h3 class="title">
      <a href="1512.html#comment-2045" class="active">This helps! Also, 4 residuals not moving.</a>          </h3>
  
  
  <div class="submitted">
    Submitted by PeterG on August 26, 2014 - 12:02.  </div>

  <div class="content">
    <p>Thanks! I implemented your ideas as well as those you shared when I after seeing my files via DropBox. I also ended up simplifying the aircraft design upon which I am working. </p>
<p>After doing this, I was encouraged that I now get much a better minimum Vol Ratio value of 0.126, which is several times bigger than the previous minimum Vol Ratios I was getting. </p>
<p>However, when I run the new simulation, all the U and ρ/rho residuals now appear - and remain - as absolutely horizontal lines at "1" on the Y-Axis. I have never seen this before and could not find anything about it on the Symscape website/forums. (If it is relevant, the k largely stabilizes around 0.1 while omega drops to around 1e-5, while continuing to oscillate, even after 1600 iterations.)<br />
What does this mean?</p>
<p>As always, thanks very much for your help and prompt responses.</p>
      </div>

  </div> <!-- /.comment -->
<div class="indented"><a id="comment-2046"></a>
<div class="comment comment-published odd clearfix">
  
      <h3 class="title">
      <a href="1512.html#comment-2046" class="active">Locate Faces Without Boundary Conditions</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on August 26, 2014 - 12:36.  </div>

  <div class="content">
    <p>Great to hear your progress. Thanks for the update.</p>
<p>I would guess the primary residuals are not solving because you have one or more faces in your flow volume without a boundary condition (BC). To locate faces without BCs:</p>
<ol>
<li>In the <strong>Results</strong> Tool Palette select <strong>Selection Filters-&gt;Primary Fluid Conditions</strong></li>
<li>In the <strong>Properties</strong> Panel set <strong>Condition = None</strong></li>
<li>Drag and drop <strong>Primary Fluid Conditions</strong> onto all your flow volume's faces, and click <strong>Done</strong></li>
</ol>
<p>This operation will select all the faces without BCs. Apply the appropriate BCs to the those faces (most likely Wall), reset, and re-run your simulation.</p>
      </div>

  </div> <!-- /.comment -->
</div></div><a id="comment-2037"></a>
<div class="comment comment-published last even clearfix">
  
      <h3 class="title">
      <a href="1512.html#comment-2037" class="active">Prefer native Booleans over Topology Only</a>          </h3>
  
  
  <div class="submitted">
    Submitted by symscape on August 14, 2014 - 13:22.  </div>

  <div class="content">
    <p>Assuming you are using native geometry (i.e., not <strong>Topology Only</strong>) and there are no warnings or errors then Caedium will produce a water tight volume after a Boolean subtraction of two water tight operands. Errors are likely if you have coincident geometry where intersections are indeterminate due to accuracy.</p>
<p>It is better to retain native geometry (i.e., not Topology Only) during Booleans operations. There is no guarantee that the Topology Only Boolean operation will produce a valid volume - it only produces valid volumes when one volume is totally enclosed by the other. This type of operation can not change the geometry (shape) of a surface like a native operation can. Once you use a Topology Only Boolean operation you can not subsequently use a native Boolean operation.</p>
<p>Why don't you create the entire flow volume in Rhino?</p>
<p>Even with a water tight geometry you can't guarantee it will produce a good mesh. There are topology connections that make good cells difficult:</p>
<ul>
<li>Slivers - long thin surfaces (high aspect ratios) produce long thin triangles. Slivers can be joined with neighbors to improve their aspect ratio.</li>
<li>Tangents - lines tangential to circles produce long thin triangles too. In fact the more you resolve (the smaller the elements) the worse the triangles become. Sometimes these surfaces can be joined with neighbors, but other times it's better to just not use small elements in those areas.</li>
</ul>
<p>In my experience CAD systems do not produce CFD-ready geometry by default. You have to constrain your geometry to be CFD-friendly.</p>
<p>If you do share your geometry I can take a look and offer more help.</p>
      </div>

  </div> <!-- /.comment -->
</div></div></div>
        </div>

        
        
      </div></div> <!-- /.section, /#content -->

      <div id="navigation"><div class="section clearfix">

	           <div id="suckerfishmenu">
            <ul class="menu"><li class="expanded first"><a href="../products.html">Products</a><ul class="menu"><li class="leaf first"><a href="../product/professional.html" title="Caedium Professional">Professional</a></li>
<li class="leaf"><a href="../product/rans.html" title="Caedium RANS Flow">RANS Flow</a></li>
<li class="leaf"><a href="../product/panel.html" title="Caedium Panel Flow">Panel Flow</a></li>
<li class="leaf"><a href="../product/builder.html" title="Caedium Builder">Builder</a></li>
<li class="leaf"><a href="../product/transient.html" title="Caedium Transient">Transient</a></li>
<li class="leaf"><a href="../product/exchange.html" title="Caedium Exchange">Exchange</a></li>
<li class="leaf"><a href="../product/viz.html" title="Caedium Viz Export">Viz Export</a></li>
<li class="leaf"><a href="../product/caedium.html">Caedium</a></li>
<li class="leaf"><a href="../product/comparison.html">Comparison</a></li>
<li class="leaf last"><a href="../product/testimonials.html" title="Caedium Testimonials">Testimonials</a></li>
</ul></li>
<li class="leaf"><a href="../examples.html" title="">Examples</a></li>
<li class="leaf"><a href="../tutorials.html">Tutorials</a></li>
<li class="leaf"><a href="../news.html">News</a></li>
<li class="collapsed"><a href="../blog.html">Blog</a></li>
<li class="leaf"><a href="../about.html" title="">About</a></li>
<li class="expanded last"><a href="../resources.html" title="">More »</a><ul class="menu"><li class="leaf first"><a href="../articles.html">Articles</a></li>
<li class="leaf"><a href="../image.html">Gallery</a></li>
<li class="leaf"><a href="../support.html" title="Frequently Asked Questions">FAQ</a></li>
<li class="leaf"><a href="../forum.html">Forums</a></li>
<li class="leaf"><a href="../downloads.html" title="">Downloads</a></li>
<li class="leaf"><a href="../newsletters.html" title="">Newsletters</a></li>
<li class="leaf"><a href="../partners.html">Partners</a></li>
<li class="leaf"><a href="../poll.html">Polls</a></li>
<li class="leaf last"><a href="../links.html" title="">Links</a></li>
</ul></li>
</ul>          </div>
        
        
        
      </div></div> <!-- /.section, /#navigation -->

      
      <div class="region region-sidebar-second column sidebar"><div class="section">
  
<div id="block-block-23" class="block block-block region-odd odd region-count-1 count-1  block-1"><div class="block-inner">

      <h2 class="title">Feedback</h2>
  
  <div class="content">
    Questions? Ideas? Problems?<br /><br />
<a href="../forum.html"><img title="Forums" alt="Forums" src="../files/flair/feedback-button.png" width="177" height="43" /></a>  </div>

  
</div></div> <!-- /block-inner, /block -->

<div id="block-views-newsletters_view-block_1" class="block block-views region-even even region-count-2 count-2  block-2"><div class="block-inner">

      <h2 class="title">Newsletter</h2>
  
  <div class="content">
    <div class="view view-newsletters-view view-id-newsletters_view view-display-id-block_1 view-dom-id-1 view-newsletters-view view-id-newsletters_view view-display-id-block_1 view-dom-id-1">
  
  
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <div class="views-field-title">
                <span class="field-content"><a href="../newsletters/may-2019-new-caedium-release-and-tutorials.html">May 2019: New Caedium Release and Tutorials</a></span>
  </div>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="../newsletters/july-2017-digital-paleontology-with-cfd.html">July 2017: Digital Paleontology with CFD</a></span>
  </div>
</li>
          <li class="views-row views-row-3 views-row-odd views-row-last">  
  <div class="views-field-title">
                <span class="field-content"><a href="../newsletters/june-2017-runners-insects-and-a-wind-turbine.html">June 2017: Runners, Insects, and a Wind Turbine</a></span>
  </div>
</li>
      </ul>
</div>    </div>
  
  
  
      
<div class="more-link">
  <a href="../newsletters.html">
    more  </a>
</div>
  
  
  
</div> <!-- /.view -->
  </div>

  
</div></div> <!-- /block-inner, /block -->
</div></div> <!-- /.section, /.region -->

    </div></div> <!-- /#main, /#main-wrapper -->

          <div id="footer"><div class="section">

                  <div id="footer-message">Copyright &copy; 2006-2024 Symscape, All rights reserved | <a href="../contact.html">Contact</a> | <a href="../trademarks.html">Trademarks</a> | <a href="../privacy.html">Privacy</a></div>
        
        
      </div></div> <!-- /.section, /#footer -->
    
  </div></div> <!-- /#page, /#page-wrapper -->

  
  
</body>

<!-- Mirrored from www.symscape.com/node/1512 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Aug 2024 15:30:11 GMT -->
</html>
